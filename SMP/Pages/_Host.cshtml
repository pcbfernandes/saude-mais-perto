@page "/"
@namespace SMP.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf

@{
    Layout = "_Layout";

    var initialTokenState = new SMP.Services.InitialApplicationState
        {
            XsrfToken = Xsrf.GetAndStoreTokens(HttpContext).RequestToken,
            Cookie = HttpContext.Request.Cookies[".AspNetCore.Cookies"]
        };
}

<component type="typeof(App)" render-mode="Server" param-InitialState="initialTokenState" />

